pg_stat_statements:
  # - name: "pg_stat_statements_calls"
  # , sum(total_time) as total_time, min(min_time) as min_time, max(max_time) as max_time, sum(mean_time*calls) / sum(calls) as mean_time, avg(stddev_time) as stddev_time, avg(rows) as rows, avg(shared_blks_hit) as shared_blks_hit, avg(shared_blks_read) as shared_blks_read, avg(shared_blks_dirtied) as shared_blks_dirtied, avg(shared_blks_written) as shared_blks_written, avg(local_blks_hit) as local_blks_hit, avg(local_blks_read) as local_blks_read, avg(local_blks_dirtied) as local_blks_dirtied, avg(local_blks_written) as local_blks_written, avg(temp_blks_read) as temp_blks_read, avg(temp_blks_written) as temp_blks_written, avg(blk_read_time) as blk_read_time, avg(blk_write_time) as blk_write_time
    query: "SELECT query, sum(calls) as calls FROM pg_stat_statements group by query"
    metrics:
      - query:
          usage: "LABEL"
          description: "Query class"
      - calls:
          usage: "COUNTER"
          description: "Number of times executed"
      # - total_time:
      #     usage: "COUNTER"
      #     description: "Total time spent in the statement, in milliseconds"
      # - min_time:
      #     usage: "GAUGE"
      #     description: "Minimum time spent in the statement, in milliseconds"
      # - max_time:
      #     usage: "GAUGE"
      #     description: "Maximum time spent in the statement, in milliseconds"
      # - mean_time:
      #     usage: "GAUGE"
      #     description: "Mean time spent in the statement, in milliseconds"
      # - stddev_time:
      #     usage: "GAUGE"
      #     description: "Population standard deviation of time spent in the statement, in milliseconds"
      # - rows:
      #     usage: "COUNTER"
      #     description: "Total number of rows retrieved or affected by the statement"
      # - shared_blks_hit:
      #     usage: "COUNTER"
      #     description: "Total number of shared block cache hits by the statement"
      # - shared_blks_read:
      #     usage: "COUNTER"
      #     description: "Total number of shared blocks read by the statement"
      # - shared_blks_dirtied:
      #     usage: "COUNTER"
      #     description: "Total number of shared blocks dirtied by the statement"
      # - shared_blks_written:
      #     usage: "COUNTER"
      #     description: "Total number of shared blocks written by the statement"
      # - local_blks_hit:
      #     usage: "COUNTER"
      #     description: "Total number of local block cache hits by the statement"
      # - local_blks_read:
      #     usage: "COUNTER"
      #     description: "Total number of local blocks read by the statement"
      # - local_blks_dirtied:
      #     usage: "COUNTER"
      #     description: "Total number of local blocks dirtied by the statement"
      # - local_blks_written:
      #     usage: "COUNTER"
      #     description: "Total number of local blocks written by the statement"
      # - temp_blks_read:
      #     usage: "COUNTER"
      #     description: "Total number of temp blocks read by the statement"
      # - temp_blks_written:
      #     usage: "COUNTER"
      #     description: "Total number of temp blocks written by the statement"
      # - blk_read_time:
      #     usage: "COUNTER"
      #     description: "Total time the statement spent reading blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"
      # - blk_write_time:
      #     usage: "COUNTER"
      #     description: "Total time the statement spent writing blocks, in milliseconds (if track_io_timing is enabled, otherwise zero)"